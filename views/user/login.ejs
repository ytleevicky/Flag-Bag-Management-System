<form action="/user/login" method="POST" onsubmit="submitForm(this);return false">
    <img src="/images/logo123.jpeg" style="width:150px;height:200px;">
    <br>
    <h2><b>請先登入以使用此系統</b></h2>
    <br>

  <div class="form-group">
    <label for="exampleInputEmail1">登入名稱</label>
    <input
      type="text"
      class="form-control"
      id="exampleInputEmail1"
      aria-describedby="emailHelp"
      placeholder="輸入登入名稱"
      name="username"
    />
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1">密碼</label>
    <input
      type="password"
      class="form-control"
      id="exampleInputPassword1"
      placeholder="輸入登入密碼"
      name="password"
    />
  </div>

  <button type="submit" class="btn btn-primary">登入</button>
</form>


<script>
  async function submitForm(oFormElement) {

      var response = await fetch(oFormElement.action, {
          method: oFormElement.method,
          credentials: 'same-origin',
          body: new FormData(oFormElement),
      });

      if (response.redirected) {
          window.location = response.url;
      } else if (response.status == 200) {
          var data = await response.json();
          alert(data);
          location.reload(true);
      } else if (response.status == 401) {
          var data = await response.text();
          alert(data);
      } else {
          alert(response.statusText);
      }

  };

</script>
